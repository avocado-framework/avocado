#!/bin/sh -e
if [ "$AVOCADO_PARALLEL_LINT_JOBS" ]; then
    PYLINT_OPTIONS="--jobs=$AVOCADO_PARALLEL_LINT_JOBS";
fi

PYLINT=$(which pylint-3 2>/dev/null || which pylint)

MODULES="avocado contrib examples scripts docs optional_plugins selftests"
${PYLINT} ${PYLINT_OPTIONS} --disable=all --enable=R0205,R0401,W1601,W1602,W1603,W1604,W1605,W1606,W1607,W1608,W1609,W1610,W1611,W1612,W1613,W1614,W1615,W1616,W1617,W1620,W1621,W1622,W1623,W1624,W1625,W1626,W1627,W1628,W1629,W1630,W1634,W1635,W1636,W1637,W1638,W1639,W1640,W1642,W1643,W1644,W1645,W1646,W1647,W1648,W1649,W1650,W1651,W1652,W1653,W1654,W1655,W1656,W1657,W1658,W1659,W1660,W1661,W1662 ${MODULES}

MODULES="avocado contrib examples scripts docs optional_plugins"
${PYLINT} ${PYLINT_OPTIONS} --disable=all --enable=W0212,W0703 ${MODULES}
